{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var field \EasyCorp\Bundle\EasyAdminBundle\Dto\FieldDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}

{# @author Ing. Dominik Mach <xXIamCzechXx@gmail.com> #}
{% block copy_text_widget %}
    {% set attr = attr|merge({
        'data-target': target|split('|')|map(name => form.parent.children[name].vars.id)|json_encode
    }) %}

    <div class="input-group iamczech--copy-group"
        {{ stimulus_controller('iamczech/easyadmin-fields-bundle/copy') }}
    >
        {{ block('form_widget') }}
        <a type="button" class="btn iamczech--copy-button" {{ stimulus_action('click->iamczech/easyadmin-fields-bundle/copy', 'updateValue') }}>
            {{ attr['data-copy-text'] ?? 'Copy' }}
        </a>
    </div>
{% endblock %}
